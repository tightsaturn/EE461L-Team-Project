{"ast":null,"code":"var _jsxFileName = \"/home/jchoo/WebstormProjects/EE461L-Team-Project/frontend/src/components/pokedex-page/Pokemon.js\";\nimport React from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"../../App.css\";\nimport SearchFilter from \"../SearchFilter\";\nimport PokemonBox from \"./PokemonBox\";\nconst tableabilities = {\n  marginLeft: \"400px\",\n  marginTop: \"15px\",\n  marginRight: \"100px\"\n};\n\nclass Pokemon extends React.Component {\n  constructor() {\n    super(); // initialize 2d array for pagination\n\n    let pokeArray = [];\n\n    for (let i = 0; i < 50; i++) {\n      pokeArray.push([]);\n    }\n\n    this.state = {\n      pokemon: pokeArray,\n      buttons: [],\n      currentPage: 0,\n      pageSize: 30\n    };\n    this.fetchPokemon = this.fetchPokemon.bind(this);\n    this.capitalize = this.capitalize.bind(this);\n    this.handlePageClick = this.handlePageClick.bind(this);\n  }\n\n  fetchPokemon() {\n    // fetch each pokemon and add to state\n    for (let id = 1; id < 808; id++) {\n      // fetch each pokemon and add to state\n      let url = 'https://pokeapi.co/api/v2/pokemon/' + id;\n      fetch(url).then(response => {\n        if (response.ok) {\n          return response.json();\n        } else {\n          throw new Error(\"failed to get response\");\n        }\n      }).then(data => {\n        // get page number and update state\n        let pageNum = Math.floor((id - 1) / 30);\n        let index = (id - 1) % 30; // add a button for every new page\n\n        if (index == 0) this.setState(prevState => {\n          let buttonArray = [...prevState.buttons];\n          buttonArray[pageNum] = /*#__PURE__*/React.createElement(\"button\", {\n            type: \"button\",\n            id: pageNum,\n            className: \"btn btn-light\",\n            onClick: this.handlePageClick,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 29\n            }\n          }, pageNum + 1);\n          return {\n            buttons: buttonArray\n          };\n        });\n        this.setState(prevState => {\n          let pokeArray = [...prevState.pokemon];\n          pokeArray[pageNum][index] = /*#__PURE__*/React.createElement(PokemonBox, {\n            imgURL: data.sprites.front_default,\n            id: id,\n            name: this.capitalize(data.name),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }\n          });\n          return {\n            pokemon: pokeArray\n          };\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n\n  capitalize(name) {\n    let firstLetter = name.charAt(0).toUpperCase();\n    return firstLetter + name.substring(1);\n  } // redirects user to page when button clicked\n\n\n  handlePageClick(event) {\n    const {\n      id\n    } = event.target;\n    this.setState({\n      currentPage: id\n    });\n  }\n\n  componentDidMount() {\n    this.fetchPokemon();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      style: tableabilities,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }\n    }, \"Pokemon\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(SearchFilter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }, this.state.pokemon[this.state.currentPage]), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, this.state.buttons)));\n  }\n\n}\n\nexport default Pokemon;","map":{"version":3,"sources":["/home/jchoo/WebstormProjects/EE461L-Team-Project/frontend/src/components/pokedex-page/Pokemon.js"],"names":["React","SearchFilter","PokemonBox","tableabilities","marginLeft","marginTop","marginRight","Pokemon","Component","constructor","pokeArray","i","push","state","pokemon","buttons","currentPage","pageSize","fetchPokemon","bind","capitalize","handlePageClick","id","url","fetch","then","response","ok","json","Error","data","pageNum","Math","floor","index","setState","prevState","buttonArray","sprites","front_default","name","catch","err","console","log","firstLetter","charAt","toUpperCase","substring","event","target","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport \"../../App.css\"\nimport SearchFilter from \"../SearchFilter\";\nimport PokemonBox from \"./PokemonBox\";\n\nconst tableabilities = {\n    marginLeft: \"400px\",\n    marginTop: \"15px\",\n    marginRight: \"100px\",\n}\n\nclass Pokemon extends React.Component {\n    constructor(){\n        super();\n\n        // initialize 2d array for pagination\n        let pokeArray = []\n        for(let i = 0; i < 50; i++){\n            pokeArray.push([])\n        }\n\n        this.state = {\n            pokemon: pokeArray,\n            buttons: [],\n            currentPage: 0,\n            pageSize: 30\n        }\n        this.fetchPokemon = this.fetchPokemon.bind(this)\n        this.capitalize = this.capitalize.bind(this)\n        this.handlePageClick = this.handlePageClick.bind(this)\n    }\n\n    fetchPokemon(){\n        // fetch each pokemon and add to state\n        for(let id = 1; id < 808; id++){\n            // fetch each pokemon and add to state\n            let url = 'https://pokeapi.co/api/v2/pokemon/' + id;\n            fetch(url)\n                .then((response) => {\n                    if(response.ok){\n                        return response.json();\n                    } else {\n                        throw new Error(\"failed to get response\");\n                    }\n                })\n                .then(data => {\n                    // get page number and update state\n                    let pageNum = Math.floor((id-1)/30);\n                    let index = (id-1)%30;\n\n                    // add a button for every new page\n                    if(index == 0) this.setState(prevState => {\n                        let buttonArray = [...prevState.buttons]\n                        buttonArray[pageNum] =\n                            <button type=\"button\" id={pageNum} className=\"btn btn-light\" onClick={this.handlePageClick}>\n                                {pageNum+1}\n                            </button>\n\n                        return {\n                            buttons: buttonArray\n                        }\n                    })\n\n                    this.setState(prevState => {\n                        let pokeArray = [...prevState.pokemon]\n                        pokeArray[pageNum][index] =\n                            <PokemonBox\n                                imgURL={data.sprites.front_default}\n                                id={id}\n                                name={this.capitalize(data.name)}\n                            />;\n\n                        return {\n                            pokemon: pokeArray,\n                        }\n                    })\n                })\n                .catch((err) =>{\n                    console.log(err)\n                });\n        }\n    }\n\n    capitalize(name) {\n        let firstLetter = name.charAt(0).toUpperCase()\n        return (firstLetter + name.substring(1))\n    }\n\n    // redirects user to page when button clicked\n    handlePageClick(event) {\n        const {id} = event.target\n        this.setState({\n            currentPage: id\n        })\n    }\n\n    componentDidMount() {\n        this.fetchPokemon();\n    }\n\n    render() {\n\n        return (\n            <div className=\"App\">\n                <div className=\"container\" style={tableabilities}>\n                    <h1>Pokemon</h1>\n                    <br/>\n                    <br/>\n                    <SearchFilter/>\n                    <div className=\"row mt-5\">\n                        {this.state.pokemon[this.state.currentPage]}\n                    </div>\n                    <div className=\"row mt-2\">\n                        {this.state.buttons}\n                    </div>\n                </div>\n            </div>\n\n        );\n    }\n}\n\nexport default Pokemon;"]},"metadata":{},"sourceType":"module"}